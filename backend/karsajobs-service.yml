# Versi dari API untuk konfigurasi
apiVersion: v1
# Jenis dari konfigurasi: Service
kind: Service
# Informasi mengenai konfigurasi
metadata:
  name: backend-service
  # Menggunakan namespace karsa agar lebih mudah untuk debugging
  namespace: karsa
  # Identifier atau pelabelan saja
  labels:
    app: go
    tier: backend

# Detail spesifikasi API
spec:
  # Jenis NodePort artinya nanti service dapat diakses
  # melalui NodeIp kemudian NodePort yang kita atur atau diberikan
  type: NodePort
  ports:
  # Internal port dari deployment
  - port: 8080
    # Eksternal port yang dapat diakses oleh Node
    nodePort: 31002
    protocol: TCP
  # Selector digunakan untuk identifier guna menghubungkan deployment
  # Selector yang ada di service, harus sama dengan yang ada di deployment
  selector:
    app: go
    tier: backend
