# Versi dari API untuk konfigurasi
apiVersion: v1
# Jenis dari konfigurasi: Service
kind: Service
# Informasi mengenai konfigurasi
metadata:
  name: rabbitmq-local
  # Menggunakan namespace async agar lebih mudah untuk debugging
  namespace: async
# Detail spesifikasi API
spec:
  ports:
  # Port yang akan diekspose dari deployment
  # Dan port yang akan diekspos ke NodePort
  - name: http-stats
    port: 15672
    protocol: TCP
    targetPort: stats
    nodePort: 30100
  selector:
    app.kubernetes.io/instance: rabbitmq
    app.kubernetes.io/name: rabbitmq
  # Jenis kosong artinya sebagai NodePort
  type: NodePort
